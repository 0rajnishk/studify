{% extends "base.html" %}
{% block title %}Shop - Studify{% endblock %}

{% block content %}

<style>
    .button-container {
        display: grid;
        grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
        gap: 15px;
        max-width: 800px;
        padding: 20px;
    }

    .studify-button,
    .whatsapp-button {
        background-color: #25D366;
        color: #fff;
        border: none;
        border-radius: 5px;
        padding: 10px 20px;
        font-size: 16px;
        cursor: pointer;
        transition: background-color 0.3s ease;
    }

    .studify-button {
        background-color: aqua;
    }

    .studify-button,
    .whatsapp-button:hover {
        background-color: #128C7E;
    }

    .warning {
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: flex-end;
        min-height: 100vh;
        /* Ensure the page takes up at least the full viewport height */
        margin: 0;
        /* Remove default body margin */
    }

    h3 {
        color: var(--dark);
    }

    .warning p {
        color: var(--dark);
    }

    .warning-message {
        font-size: 12px;
        /* Adjust the value to your preferred font size */
        color: #000000;
        /* Adjust the color if needed */
        margin: 20px;
        text-align: center;
        margin-bottom: 200px;
        /* Add some space at the bottom */
    }

    .button-container>a>button {
        width: 140px;
        /* Set a fixed width for the buttons */
        padding: 10px;
        /* Add padding for better appearance */
    }
</style>
<h3>Groups</h3>
<div class="button-container" id="buttonContainer">
    <a href="https://www.linkedin.com/company/96643663" target="_blank"><button class="studify-button">
            LinkedIn</button></a>
    <a href="https://www.instagram.com/studify.space/" target="_blank"><button class="studify-button">Insta</button></a>
    <a href="https://telegram.me/iitmbs" target="_blank"><button class="studify-button">Telegram</button></a>
    <!-- JavaScript will dynamically populate buttons here -->
</div>
<h3 id="notFound"></h3>
<div class="warning">
    <p class="warning-message">
        Disclaimer:<br>
        Join groups at your own discretion and responsibility. Please note that the WhatsApp groups listed on this
        website are not owned or managed by Studify. We do not endorse, control, or take responsibility for the content
        shared within these groups. By joining them, you acknowledge that any interactions or engagement within these
        groups are beyond our purview. Your participation in these groups is entirely voluntary and at your own
        risk.<br>
        Remember, online interactions should always be conducted in a respectful and responsible manner.
    </p>
</div>
</div>
<script>
    const courseData = {
        "term": "23t1",
        "course_metadata": {
            "foundation": {
                "cs1001": "CT",
                "hs1002": "English II",
                "ma1002": "Statistics I",
                "hs1001": "English I",
                "ma1004": "Statistics II",
                "ma1003": "Mathematics II",
                "ma1001": "Mathematics I",
                "cs1002": "Python"
            },
            "degree": {
                "ma2001": "Linear Statistical Models",
                "gn3001": "Strategies for Professional Growth",
                "cs3001": "Software Engineering"
            },
            "diploma": {
                "cs2004": "ML Foundations",
                "cs2007": "MLT",
                "cs2005": "JAVA",
                "ms2001": "BDM",
                "ms2002": "BA",
                "cs2008": "MLP",
                "se2001": "System Commands",
                "cs2006": "MAD II",
                "se2002": "TDS",
                "cs2003": "MAD I",
                "cs2002": "PDSA",
                "cs2001": "DBMS"
            }
        },
        "prefix": "ns"
    };


    // Function to get the subject code from its name
    function getSubjectCode(subjectName) {
        for (const level in courseData.course_metadata) {
            const subjects = courseData.course_metadata[level];
            for (const code in subjects) {
                if (subjects[code] === subjectName) {
                    return code;
                }
            }
        }
        return null; // Return null if subject name is not found
    }
</script>

<script>
    const subjects = formData['subjects'];

    const subjectCodes = subjects.map(getSubjectCode);

    const data = {
        "foundation": {
            "hs1001": {
                "course_name": " English 1",
                "wa_link": "https://chat.whatsapp.com/Kv7uA7ge1fj9rTdndmIRIP"
            },
            "cs1001": {
                "course_name": " CT",
                "wa_link": "https://chat.whatsapp.com/EoqBuofXYPLFy6PLUy9Qwp"
            },
            "ma1002": {
                "course_name": " Statistics 1",
                "wa_link": "https://chat.whatsapp.com/Cx03wboBD4tFC1PqKAMiY5"
            },
            "ma1001": {
                "course_name": " Maths 1",
                "wa_link": "https://chat.whatsapp.com/IcFNBObiecO6afk2Bnu9um"
            },
            "ma1003": {
                "course_name": " Maths 2",
                "wa_link": "https://chat.whatsapp.com/LvINRniWtjOCpoHlGfeIi8"
            },
            "hs1002": {
                "course_name": " English 2",
                "wa_link": "https://chat.whatsapp.com/IuEk05roFjVCntkhcneKI4"
            },
            "cs1002": {
                "course_name": "Intro to Python",
                "wa_link": "https://chat.whatsapp.com/GLHxB7344G57D18bhv3LS2"
            },
            "cs1002-1": {
                "course_name": "OPPE Repeat (Python)",
                "wa_link": "https://chat.whatsapp.com/KcwtRDgJ4w7AjLPBBkUVGA"
            },
            "ma1004": {
                "course_name": " Statistics 2",
                "wa_link": "https://chat.whatsapp.com/FqBFI2iDizV7oyoL3jUBVR"
            },
            "fu1001": {
                "course_name": "Foundation unofficial",
                "wa_link": "https://chat.whatsapp.com/C5R9kknQU94AcULeXkKv6w"
            }

        },
        "diploma": {
            "se2002": {
                "course_name": "TDS",
                "wa_link": "https://chat.whatsapp.com/Lg0ked6YP6W8Nx53UcMJii"
            },
            "se2001": {
                "course_name": "System Commands",
                "wa_link": "https://chat.whatsapp.com/KQ9ARU0gdQRCowDc16hEub"
            },
            "cs2002": {
                "course_name": "PDSA",
                "wa_link": "https://chat.whatsapp.com/EYYW97PynwoE3mfPjARBf8"
            },
            "ms2002": {
                "course_name": "Business Analytics",
                "wa_link": "https://chat.whatsapp.com/INPEAZwpcy86VyK2OqOSIA"
            },
            "ms2001-1": {
                "course_name": "BDM",
                "wa_link": "https://chat.whatsapp.com/HT88W7NQKmf8KfqIwYRCSN"
            },
            "ms2001": {
                "course_name": "BDM Project",
                "wa_link": "https://chat.whatsapp.com/L5OfTFJ10XL0ymzkzNxzRS"
            },
            "cs2007": {
                "course_name": "MLT",
                "wa_link": "https://chat.whatsapp.com/GfVDMsrGxVdAMWbaoQBKsv"
            },
            "cs2004": {
                "course_name": "MLF",
                "wa_link": "https://chat.whatsapp.com/FSyYTJXHisK1qvxgfPHehG"
            },
            "cs2005": {
                "course_name": "Java",
                "wa_link": "https://chat.whatsapp.com/JjkYneTwpk73tMYDJb9ZP3"
            },
            "cs2001": {
                "course_name": "DBMS",
                "wa_link": "https://chat.whatsapp.com/L9qOnSjklcC63qjPIxHwfv"
            },
            "cs2006": {
                "course_name": "MAD 2",
                "wa_link": "https://chat.whatsapp.com/Iqjtvus7A3yKYhcjttDIE2"
            },
            "cs2006-1": {
                "course_name": "MAD 2 Project",
                "wa_link": "https://chat.whatsapp.com/DxllqQS9GkKJAQdfuiXgOq"
            },
            "cs2003": {
                "course_name": "MAD 1",
                "wa_link": "https://chat.whatsapp.com/GwQVD8jbJCr6Lu89Qx6ylR"
            },
            "cs2003-1": {
                "course_name": "MAD 1 Project",
                "wa_link": "https://chat.whatsapp.com/FCGYW2M849y4hYPvZm53a1"
            },
            "cs2008": {
                "course_name": "MLP",
                "wa_link": "https://chat.whatsapp.com/J6HW8i3ZAvLECVJlbLyI43"
            },
            "cs2008-1": {
                "course_name": "MLP Project",
                "wa_link": "https://chat.whatsapp.com/KzI1Tu27mkN11m1rTbisQp"
            }
        },
        "state wise groups": {
            "uttarpradesh": {
                "up": "soon ...",
                "wa_link": "/"
            },
            "bihar": {
                "bihar": "soon...",
                "wa_link": "/"
            }

        },
        "Other social media handles": {
            "Insta": {
                "course_name": "soon...",
                "wa_link": "/"
            }
        }
    }

    const buttonContainer = document.getElementById("buttonContainer");
    const notFound = document.getElementById("notFound");
    if (subjectCodes.length > 0) {
        subjectCodes.forEach(subjectCode => {
            for (const level in data) {
                const groupData = data[level][subjectCode];

                if (groupData) {
                    const button = document.createElement("button");
                    button.className = "whatsapp-button";
                    button.textContent = groupData.course_name;
                    button.addEventListener("click", () => {
                        window.open(groupData.wa_link, '_blank');
                    });

                    buttonContainer.appendChild(button);
                }

            }
        });
    } else {

        const linkElement = document.createElement("a");
        linkElement.href = "/settings";
        linkElement.textContent = "Click Here to Select Subject";

        // Append the link element to the subjectsContainer
        notFound.appendChild(linkElement);
        alert("select subejects")
        window.location.href = '/settings'
    }


</script>


{% endblock %}